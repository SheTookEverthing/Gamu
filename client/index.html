<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <link rel=stylesheet type=text/css href="stylesheet.css">
    <title>Tower Of Evolution</title>
</head>

<body>
    <div id="title">
        <h1>
            Tower Of Evolution
        </h1>
    </div>
    <div id="content">
        <h1>
            <table id="table">
                <tr>
                    <th id="play"> Play</th>
                </tr>
            </table>
        </h1>
    </div>

</body>


<script>
    $("#play").click(() => { loadfile() });

    function loadfile() {
        files = "<tr> <th id = 'newgame'> New Game </th> </tr> <tr> <th id = 'loadgame'> Load Game </th> </tr></tr>"
        $("#table").html(files);

        function newfile() {
            sessionStorage.setItem("File","New")
            location.replace('GameFile/Misc/backstory.html')
        }

        function loadsave() {
            sessionStorage.setItem("File","Load")
            loadfiles = "<input type='file' id='file-input' />" + "<button id='read-button'>Read File</button>" + "<pre id='file-contents'></pre>"

            $("#table").html(loadfiles)

            document.querySelector("#read-button").addEventListener('click', function () {
                let file = document.querySelector("#file-input").files[0];
                let reader = new FileReader();
                reader.addEventListener('load', function (e) {
                    let text = e.target.result;
                    document.querySelector("#file-contents").textContent = text;
                });
                reader.readAsText(file);
            });
        }

        $("#newgame").click(() => newfile());
        $("#loadgame").click(() => loadsave());
    }

        //window.location.href = 'town/town.html';
</script>

</html>